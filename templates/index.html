<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Colorization - VGG16 + Custom CNN</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-palette me-2"></i>
                AI Image Colorization
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#features">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section bg-gradient text-white py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">
                        Transform Grayscale to <span class="text-warning">Vibrant Colors</span>
                    </h1>
                    <p class="lead mb-4">
                        Using state-of-the-art deep learning with VGG16 feature extraction and custom CNN architecture
                        to bring your black and white photos to life.
                    </p>
                    <div class="tech-badges">
                        <span class="badge bg-primary me-2 p-2">VGG16 Transfer Learning</span>
                        <span class="badge bg-success me-2 p-2">LAB Color Space</span>
                        <span class="badge bg-info me-2 p-2">Custom CNN</span>
                        <span class="badge bg-warning text-dark p-2">PyTorch</span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="text-center">
                        <i class="fas fa-image display-1 mb-3 text-warning"></i>
                        <p class="fs-5">Upload your grayscale image and watch the magic happen!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Upload Section -->
    <section class="upload-section py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow-lg border-0">
                        <div class="card-header bg-dark text-white text-center py-3">
                            <h3 class="mb-0">
                                <i class="fas fa-upload me-2"></i>
                                Upload Your Image
                            </h3>
                        </div>
                        <div class="card-body p-4">
                            <!-- Upload Form -->
                            <form id="uploadForm" enctype="multipart/form-data">
                                <div class="mb-4">
                                    <label for="imageFile" class="form-label fw-bold">
                                        Choose a grayscale image to colorize:
                                    </label>
                                    <input type="file" 
                                           class="form-control form-control-lg" 
                                           id="imageFile" 
                                           name="file" 
                                           accept="image/*" 
                                           required>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Supported formats: JPG, PNG, JPEG. Images will be resized to 224×224 pixels.
                                    </div>
                                </div>
                                
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary btn-lg" id="colorizeBtn">
                                        <i class="fas fa-magic me-2"></i>
                                        Colorize Image
                                    </button>
                                </div>
                            </form>

                            <!-- Loading Spinner -->
                            <div id="loadingSpinner" class="text-center py-4" style="display: none;">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <p class="mt-3 text-muted">Processing your image with AI magic... ✨</p>
                            </div>

                            <!-- Error Alert -->
                            <div id="errorAlert" class="alert alert-danger mt-3" style="display: none;">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <span id="errorMessage"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section id="resultsSection" class="results-section py-5" style="display: none;">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h2 class="text-center mb-5">
                        <i class="fas fa-star text-warning me-2"></i>
                        Colorization Results
                    </h2>
                </div>
            </div>
            
            <div class="row g-4">
                <!-- Original Image -->
                <div class="col-lg-6 col-md-6">
                    <div class="result-card h-100">
                        <div class="card shadow border-0 h-100">
                            <div class="card-header bg-secondary text-white text-center">
                                <h5 class="mb-0">
                                    <i class="fas fa-image me-2"></i>
                                    Original Image
                                </h5>
                            </div>
                            <div class="card-body p-0">
                                <img id="originalImage" src="" alt="Original" class="img-fluid w-100">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grayscale Version -->
                <div class="col-lg-6 col-md-6">
                    <div class="result-card h-100">
                        <div class="card shadow border-0 h-100">
                            <div class="card-header bg-dark text-white text-center">
                                <h5 class="mb-0">
                                    <i class="fas fa-adjust me-2"></i>
                                    Grayscale Input
                                </h5>
                            </div>
                            <div class="card-body p-0">
                                <img id="grayscaleImage" src="" alt="Grayscale" class="img-fluid w-100">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Colorized Result -->
                <div class="col-lg-6 col-md-6">
                    <div class="result-card h-100">
                        <div class="card shadow border-0 h-100">
                            <div class="card-header bg-success text-white text-center">
                                <h5 class="mb-0">
                                    <i class="fas fa-palette me-2"></i>
                                    AI Colorized Result
                                </h5>
                            </div>
                            <div class="card-body p-0">
                                <img id="colorizedImage" src="" alt="Colorized" class="img-fluid w-100">
                            </div>
                            <div class="card-footer text-center bg-light">
                                <small class="text-muted">Generated using VGG16 + Custom CNN</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="row mt-4">
                <div class="col-12 text-center">
                    <button class="btn btn-outline-primary me-3" onclick="tryAnother()">
                        <i class="fas fa-redo me-2"></i>
                        Try Another Image
                    </button>
                    <button class="btn btn-outline-success" onclick="downloadResults()">
                        <i class="fas fa-download me-2"></i>
                        Download Results
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="fw-bold">Technology Features</h2>
                    <p class="text-muted">State-of-the-art deep learning for image colorization</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-brain fa-3x text-primary"></i>
                        </div>
                        <h5>VGG16 Features</h5>
                        <p class="text-muted">Pre-trained VGG16 network for robust feature extraction</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-cogs fa-3x text-success"></i>
                        </div>
                        <h5>Custom CNN</h5>
                        <p class="text-muted">Custom-designed CNN for A&B channel prediction</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-eye fa-3x text-info"></i>
                        </div>
                        <h5>LAB Color Space</h5>
                        <p class="text-muted">Perceptually uniform LAB color space for better results</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card text-center p-4">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-rocket fa-3x text-warning"></i>
                        </div>
                        <h5>Fast Processing</h5>
                        <p class="text-muted">Optimized inference for quick colorization results</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="fw-bold mb-4">About This Project</h2>
                    <p class="lead">
                        This image colorization system uses transfer learning with VGG16 as a feature extractor,
                        combined with a custom CNN architecture trained on the Tiny-ImageNet dataset.
                    </p>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            <strong>Dataset:</strong> Tiny-ImageNet (200 classes, 100K images)
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            <strong>Architecture:</strong> VGG16 + Custom CNN
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            <strong>Color Space:</strong> LAB for perceptual accuracy
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            <strong>Framework:</strong> PyTorch + Flask
                        </li>
                    </ul>
                </div>
                <div class="col-lg-6">
                    <div class="text-center">
                        <div class="architecture-diagram p-4 bg-light rounded">
                            <h5 class="mb-3">Model Architecture</h5>
                            <div class="diagram-flow">
                                <div class="diagram-step mb-2">
                                    <span class="badge bg-secondary p-2">Grayscale Input (L channel)</span>
                                </div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-step mb-2">
                                    <span class="badge bg-primary p-2">VGG16 Feature Extractor</span>
                                </div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-step mb-2">
                                    <span class="badge bg-success p-2">Custom CNN Decoder</span>
                                </div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-step mb-2">
                                    <span class="badge bg-warning text-dark p-2">A & B Channels</span>
                                </div>
                                <div class="diagram-arrow">↓</div>
                                <div class="diagram-step">
                                    <span class="badge bg-info p-2">RGB Colorized Image</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">
                        &copy; 2024 AI Image Colorization Project. 
                        Built with <i class="fas fa-heart text-danger"></i> using PyTorch, Flask, and Bootstrap.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>